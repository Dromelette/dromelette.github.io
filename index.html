<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Dr. Nemani â€” DevOps â€¢ Apps â€¢ 3D â€¢ Experiments</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Three.js (background) -->
  <script src="https://cdn.jsdelivr.net/npm/three@0.161/build/three.min.js"></script>

  <style>
    :root{
      --egg-bg:#fff8dc; --yolk:#ffd400; --yolk-2:#ffea7a; --ink:#111;
    }
    html,body{height:100%}
    body{margin:0;background:var(--egg-bg);color:var(--ink);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,sans-serif;overflow-x:hidden}

    /* background */
    #three-root{position:fixed;inset:0;z-index:-2;pointer-events:none}
    #veil{position:fixed;inset:0;z-index:-1;pointer-events:none;background:radial-gradient(ellipse at center, rgba(255,248,220,.80), rgba(255,248,220,.94))}

    /* header */
    .brand{background:rgba(255,255,255,.65);border:1px solid rgba(0,0,0,.08);backdrop-filter:blur(6px)}
    .navlink{background:rgba(255,255,255,.6);border:1px solid rgba(0,0,0,.08);transition:.15s;white-space:nowrap}
    .navlink:hover{transform:translateY(-1px);background:rgba(255,255,255,.85)}
    .btn-outline{border:2px solid var(--ink);border-radius:9999px;padding:.45rem .9rem;font-weight:700;background:rgba(255,255,255,.6)}

    /* links row */
    .btn-yolk{background:var(--yolk);color:var(--ink);border-radius:9999px;font-weight:800;padding:.6rem 1rem;border:2px solid #00000010;transition:.12s;box-shadow:0 6px 20px rgba(0,0,0,.08)}
    .btn-yolk:hover{background:var(--yolk-2);transform:translateY(-1px);box-shadow:0 10px 24px rgba(0,0,0,.12)}

    /* hero egg */
    .egg-btn{appearance:none;background:transparent;border:0;cursor:pointer;transition:transform .2s ease;will-change:transform}
    .egg-btn:hover{transform:translateY(-2px) scale(1.02)}
    .egg-shadow{filter:drop-shadow(0 25px 30px rgba(0,0,0,.18))}
    .egg-half{position:fixed;width:clamp(120px, 28vw, 160px);height:clamp(150px, 36vw, 200px);left:50%;top:55%;transform:translate(-50%,-50%);z-index:6;pointer-events:none;opacity:0}

    /* mini eggs */
    #miniCluster{z-index:6}
    .mini-egg{position:relative}
    .mini-egg svg{pointer-events:none}
    .mini-crack{position:absolute;inset:0;opacity:0;transition:opacity .15s}
    .mini-egg:hover .mini-crack{opacity:.9}
    .wiggle{animation:wiggle 1.3s ease-in-out infinite;transform-origin:50% 80%}
    @keyframes wiggle{0%,100%{transform:rotate(0)}25%{transform:rotate(-4deg)}50%{transform:rotate(3.5deg)}75%{transform:rotate(-2deg)}}

    /* chicks */
    .chick{position:fixed;width:clamp(64px, 14vw, 100px);height:clamp(64px, 14vw, 100px);left:50%;top:20%;transform:translate(-50%,-50%);z-index:7;pointer-events:none}
    .chick .body{filter:drop-shadow(0 10px 12px rgba(0,0,0,.22))}
    .chick.dance{animation:bop .6s ease-in-out infinite}
    @keyframes bop{0%,100%{transform:translate(-50%,-50%) scale(1)}50%{transform:translate(-50%,-54%) scale(1.06)}}

    /* prank layers */
    .prank-cover{position:fixed;inset:0;z-index:3;pointer-events:none;opacity:0;background:radial-gradient(circle at center, rgba(255,212,0,.12), rgba(255,212,0,.22) 40%, rgba(0,0,0,.6));transition:opacity 1.4s ease}
    .cat-tiles{position:fixed;inset:0;z-index:2;pointer-events:none;opacity:0;background-image:url('cat.gif');background-repeat:repeat;background-size:200px auto;animation:cats 35s linear infinite;transition:opacity 1.8s ease}
    @keyframes cats{0%{background-position:0 0}100%{background-position:1200px 1200px}}

    /* fallback CSS anims */
    .egg-tilt{animation:eggTilt .25s cubic-bezier(.2,.6,.3,1) forwards}
    @keyframes eggTilt{
      0%{transform:translate(-50%,-50%) rotate(0)}
      100%{transform:translate(calc(-50% + 18px), calc(-50% + 26px)) rotate(-14deg)}
    }
    .halfL-slide{opacity:1;animation:halfL .7s cubic-bezier(.12,.58,.16,1) forwards}
    .halfR-slide{opacity:1;animation:halfR .7s cubic-bezier(.12,.58,.16,1) forwards}
    @keyframes halfL{
      0%{transform:translate(-50%,-50%) rotate(-6deg)}
      100%{transform:translate(calc(-50% - 140px), calc(-50% + 100px)) rotate(-24deg)}
    }
    @keyframes halfR{
      0%{transform:translate(-50%,-50%) rotate(6deg)}
      100%{transform:translate(calc(-50% + 140px), calc(-50% + 100px)) rotate(24deg)}
    }
    .cluster-show{animation:cluster .35s ease-out forwards}
    @keyframes cluster{
      0%{opacity:0;transform:translate(-50%,-46%) scale(.9)}
      100%{opacity:1;transform:translate(-50%,-50%) scale(1)}
    }
    .fade-out{animation:fadeout .4s ease forwards}
    @keyframes fadeout{to{opacity:0;transform:translateY(10px)}}

    /* Mobile tweaks */
    @media (max-width:640px){
      header nav{gap:.35rem}
      .btn-outline{padding:.35rem .7rem;font-size:.85rem}
      .navlink{padding:.35rem .6rem;font-size:.9rem}
    }
  </style>
</head>
<body>
  <!-- starfield -->
  <div id="three-root" aria-hidden="true"></div>
  <div id="veil" aria-hidden="true"></div>

  <!-- header -->
  <header class="fixed top-3 left-1/2 -translate-x-1/2 w-[min(1100px,92vw)] flex items-center justify-between z-10">
    <a href="https://www.instagram.com/dr.omlette/" class="brand px-3 py-2 rounded-xl font-black tracking-wide no-underline text-[var(--ink)]">Dr.&nbsp;Omelette</a>
    <nav class="flex items-center gap-2">
      <a href="resume.html" class="navlink px-3 py-2 rounded-full no-underline text-[var(--ink)]">RÃ©sumÃ©</a>
      <a href="https://www.linkedin.com/in/arjun-nemani/" target="_blank" rel="noopener" class="navlink px-3 py-2 rounded-full no-underline text-[var(--ink)]">LinkedIn</a>
      <a href="https://www.instagram.com/dr.omlette/" target="_blank" rel="noopener" class="navlink px-3 py-2 rounded-full no-underline text-[var(--ink)]">Instagram</a>
      <button id="audioToggle" class="btn-outline">ðŸ”Š Audio</button>
    </nav>
  </header>

  <main class="pt-28">
    <!-- hero -->
    <section class="min-h-[70vh] grid place-items-center text-center px-4">
      <div class="flex flex-col items-center gap-6 max-w-3xl">
        <h1 id="heroHed" class="text-4xl sm:text-5xl md:text-6xl font-extrabold leading-tight">
          Do <span class="underline decoration-[var(--yolk)] decoration-8 underline-offset-4">not</span> touch the egg
        </h1>

        <div class="relative grid place-items-center h-[320px] w-full">
          <!-- big egg -->
          <button id="eggBtn" class="egg-btn" aria-label="Do not touch the egg">
            <svg class="egg-shadow" width="clamp(120,35vw,160)" height="clamp(150,44vw,200)" viewBox="0 0 160 200" aria-hidden="true" style="width:clamp(120px,35vw,160px);height:clamp(150px,44vw,200px)">
              <defs>
                <linearGradient id="shell" x1="0" y1="0" x2="0" y2="1">
                  <stop offset="0%" stop-color="#ffffff"/><stop offset="100%" stop-color="#f2efe6"/>
                </linearGradient>
                <radialGradient id="yolkG" cx="50%" cy="48%" r="45%">
                  <stop offset="0%" stop-color="#ffe680"/><stop offset="100%" stop-color="#ffc400"/>
                </radialGradient>
              </defs>
              <ellipse cx="80" cy="100" rx="60" ry="85" fill="url(#shell)" stroke="#d9d4c7" stroke-width="3"/>
              <circle cx="100" cy="115" r="16" fill="url(#yolkG)" opacity="0.8"/>
            </svg>
          </button>

          <!-- halves -->
          <svg id="halfL" class="egg-half" viewBox="0 0 160 200" aria-hidden="true">
            <defs><linearGradient id="shell2" x1="0" y="0" x2="0" y="1"><stop offset="0%" stop-color="#ffffff"/><stop offset="100%" stop-color="#f2efe6"/></linearGradient></defs>
            <clipPath id="clipL"><rect x="0" y="0" width="80" height="200"/></clipPath>
            <ellipse cx="80" cy="100" rx="60" ry="85" fill="url(#shell2)" stroke="#d9d4c7" stroke-width="3" clip-path="url(#clipL)"/>
          </svg>
          <svg id="halfR" class="egg-half" viewBox="0 0 160 200" aria-hidden="true">
            <defs><linearGradient id="shell3" x1="0" y="0" x2="0" y="1"><stop offset="0%" stop-color="#ffffff"/><stop offset="100%" stop-color="#f2efe6"/></linearGradient></defs>
            <clipPath id="clipR"><rect x="80" y="0" width="80" height="200"/></clipPath>
            <ellipse cx="80" cy="100" rx="60" ry="85" fill="url(#shell3)" stroke="#d9d4c7" stroke-width="3" clip-path="url(#clipR)"/>
          </svg>

          <!-- mini eggs cluster -->
          <div id="miniCluster" class="hidden absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 flex items-center gap-4 sm:gap-6">
            <!-- Egg #1 (spawns chicks) -->
            <button class="mini-egg egg-btn wiggle" data-kind="chick" aria-label="Hatch chicks">
              <svg width="clamp(70,18vw,100)" height="clamp(90,24vw,120)" viewBox="0 0 160 200" aria-hidden="true" style="width:clamp(70px,18vw,100px);height:clamp(90px,24vw,120px)">
                <ellipse cx="80" cy="100" rx="60" ry="85" fill="#fffef9" stroke="#d9d4c7" stroke-width="3"/>
              </svg>
              <svg class="mini-crack" width="100" height="120" viewBox="0 0 220 120" aria-hidden="true">
                <g transform="translate(35,5)"><polyline points="35,20 50,45 65,30 80,55 95,40" fill="none" stroke="#b91c1c" stroke-width="3"/></g>
              </svg>
            </button>
            <!-- Egg #2 (spawns chicks) -->
            <button class="mini-egg egg-btn wiggle" data-kind="chick" aria-label="Hatch chicks">
              <svg width="clamp(70,18vw,100)" height="clamp(90,24vw,120)" viewBox="0 0 160 200" aria-hidden="true" style="width:clamp(70px,18vw,100px);height:clamp(90px,24vw,120px)">
                <ellipse cx="80" cy="100" rx="60" ry="85" fill="#fffef9" stroke="#d9d4c7" stroke-width="3"/>
              </svg>
              <svg class="mini-crack" width="100" height="120" viewBox="0 0 220 120" aria-hidden="true">
                <g transform="translate(35,5)"><polyline points="35,20 50,45 65,30 80,55 95,40" fill="none" stroke="#b91c1c" stroke-width="3"/></g>
              </svg>
            </button>
            <!-- Egg #3 (prank) â€” yellow dot removed -->
            <button class="mini-egg egg-btn wiggle" data-kind="prank" aria-label="Mystery egg">
              <svg width="clamp(70,18vw,100)" height="clamp(90,24vw,120)" viewBox="0 0 160 200" aria-hidden="true" style="width:clamp(70px,18vw,100px);height:clamp(90px,24vw,120px)">
                <ellipse cx="80" cy="100" rx="60" ry="85" fill="#fffef9" stroke="#d9d4c7" stroke-width="3"/>
              </svg>
              <svg class="mini-crack" width="100" height="120" viewBox="0 0 220 120" aria-hidden="true">
                <g transform="translate(35,5)"><polyline points="35,20 50,45 65,30 80,55 95,40" fill="none" stroke="#b91c1c" stroke-width="3"/></g>
              </svg>
            </button>
          </div>
        </div>

        <!-- links -->
        <div class="flex flex-wrap justify-center gap-3">
          <a class="btn-yolk no-underline" href="flipper.html">Game: Dr. Flipper</a>
          <a class="btn-yolk no-underline" href="yo.html">Typing Tutor</a>
          <a class="btn-yolk no-underline" href="Eggspert-guidlow.pdf" target="_blank" rel="noopener">Eggspert Guide (PDF)</a>
          <a class="btn-yolk no-underline" href="https://www.linkedin.com/in/arjun-nemani/" target="_blank" rel="noopener">LinkedIn</a>
          <a class="btn-yolk no-underline" href="https://www.instagram.com/dr.omlette/" target="_blank" rel="noopener">Instagram</a>
        </div>
      </div>
    </section>

    <!-- Instagram section (no third-party feed; clean + mobile friendly) -->
  </main>

  <footer class="py-10 px-5 text-center border-t border-black/10">
    <p>Contact â†’ <a href="mailto:dromelette2090@gmail.com" class="underline decoration-[var(--yolk)] decoration-4 underline-offset-4">dromelette2090@gmail.com</a></p>
  </footer>

  <!-- prank layers -->
  <div id="prankCover" class="prank-cover" aria-hidden="true"></div>
  <div id="catTiles" class="cat-tiles" aria-hidden="true"></div>

  <!-- audio -->
  <audio id="roll" preload="auto">
    <source src="roll.mp3" type="audio/mpeg"/>
  </audio>

  <script>
    /* starfield (mobile-friendly density) */
    (function initStarfield(){
      try{
        const host = document.getElementById('three-root');
        const renderer = new THREE.WebGLRenderer({ antialias:true, alpha:true });
        renderer.setPixelRatio(Math.min(devicePixelRatio, 2));
        renderer.setSize(innerWidth, innerHeight);
        host.appendChild(renderer.domElement);

        const scene = new THREE.Scene();
        scene.fog = new THREE.FogExp2(new THREE.Color('#0a0f22'), 0.028);

        const camera = new THREE.PerspectiveCamera(60, innerWidth/innerHeight, .1, 300);
        camera.position.set(0, 1.2, 8);

        const COUNT = (innerWidth < 640) ? 1200 : 2200;
        const g = new THREE.BufferGeometry();
        const pos = new Float32Array(COUNT*3);
        for (let i=0;i<COUNT;i++){
          const r = 36*Math.pow(Math.random(), .55);
          const th = Math.random()*Math.PI*2;
          const ph = Math.acos(2*Math.random()-1);
          pos[i*3+0]=r*Math.sin(ph)*Math.cos(th);
          pos[i*3+1]=r*Math.cos(ph)*.55;
          pos[i*3+2]=r*Math.sin(ph)*Math.sin(th);
        }
        g.setAttribute('position', new THREE.Float32BufferAttribute(pos,3));
        const m = new THREE.PointsMaterial({ color:0x111111, size:.02, transparent:true, opacity:.85 });
        const stars = new THREE.Points(g,m); scene.add(stars);

        const clock = new THREE.Clock();
        (function tick(){
          const t = clock.getElapsedTime();
          stars.rotation.y = t*0.02;
          renderer.render(scene, camera);
          requestAnimationFrame(tick);
        })();

        addEventListener('resize', ()=>{
          renderer.setSize(innerWidth, innerHeight);
          camera.aspect = innerWidth/innerHeight; camera.updateProjectionMatrix();
        });
      }catch(e){ console.warn('[Starfield disabled]', e); }
    })();

    /* audio */
    const roll = document.getElementById('roll');
    const audioToggle = document.getElementById('audioToggle');
    let audioWanted = true;
    audioToggle.addEventListener('click', ()=>{
      audioWanted = !audioWanted;
      audioToggle.textContent = audioWanted ? 'ðŸ”Š Audio' : 'ðŸ”‡ Audio';
      if (!audioWanted) roll.pause();
    });
    function playRollSoftly(){
      if (!audioWanted) return;
      roll.volume = 0; roll.currentTime = 0;
      const p = roll.play(); 
      if (p && p.catch) {
        p.catch(()=>showPlayNudge());
      }
      let i=0, steps=20; const iv=setInterval(()=>{ i++; roll.volume=Math.min(.9, i/steps*.9); if(i>=steps) clearInterval(iv); },80);
    }
    function showPlayNudge(){
      const n = document.createElement('button');
      n.textContent = 'â–¶ Play audio';
      Object.assign(n.style,{
        position:'fixed',bottom:'16px',left:'50%',transform:'translateX(-50%)',
        padding:'10px 14px',borderRadius:'999px',border:'0',
        background:'#ffd400',color:'#0b132a',fontWeight:'800',zIndex:9999
      });
      n.addEventListener('click',()=>{ roll.play(); n.remove(); });
      document.body.appendChild(n);
    }

    /* main egg sequence */
    const eggBtn  = document.getElementById('eggBtn');
    const halfL   = document.getElementById('halfL');
    const halfR   = document.getElementById('halfR');
    const cluster = document.getElementById('miniCluster');
    const heroHed = document.getElementById('heroHed');
    const prankCover = document.getElementById('prankCover');
    const catTiles   = document.getElementById('catTiles');

    let hatched = false;
    eggBtn.addEventListener('click', async ()=>{
      if (hatched) return; hatched = true;
      heroHed.innerHTML = "Uh ohâ€¦ you hatched it <span class='text-[var(--yolk)]'>ðŸ¥š</span>";

      const r = eggBtn.getBoundingClientRect();
      const cx = r.left + r.width/2, cy = r.top + r.height/2;
      Object.assign(eggBtn.style, { position:'fixed', left:`${cx}px`, top:`${cy}px`, transform:'translate(-50%,-50%)', zIndex:6 });

      const canWAAPI = !!eggBtn.animate;

      if (canWAAPI){
        await eggBtn.animate(
          [{ transform:'translate(-50%,-50%) rotate(0deg)' },
           { transform:'translate(calc(-50% + 18px), calc(-50% + 26px)) rotate(-14deg)' }],
          { duration:250, easing:'cubic-bezier(.2,.6,.3,1)', fill:'forwards' }
        ).finished;
      }else{
        eggBtn.classList.add('egg-tilt');
        await new Promise(res=>setTimeout(res, 260));
      }

      eggBtn.style.opacity = 0;
      if (canWAAPI){
        halfL.style.opacity = 1; halfR.style.opacity = 1;
        await Promise.all([
          halfL.animate(
            [{ transform:'translate(-50%,-50%) rotate(-6deg)' },
             { transform:'translate(calc(-50% - 140px), calc(-50% + 100px)) rotate(-24deg)' }],
            { duration:700, easing:'cubic-bezier(.12,.58,.16,1)', fill:'forwards' }
          ).finished,
          halfR.animate(
            [{ transform:'translate(-50%,-50%) rotate(6deg)' },
             { transform:'translate(calc(-50% + 140px), calc(-50% + 100px)) rotate(24deg)' }],
            { duration:700, easing:'cubic-bezier(.12,.58,.16,1)', fill:'forwards' }
          ).finished
        ]);
      }else{
        halfL.classList.add('halfL-slide'); halfR.classList.add('halfR-slide');
        await new Promise(res=>setTimeout(res, 720));
      }

      cluster.classList.remove('hidden');
      if (canWAAPI){
        await cluster.animate(
          [{ opacity:0, transform:'translate(-50%,-46%) scale(.9)' }, { opacity:1, transform:'translate(-50%,-50%) scale(1)' }],
          { duration:350, easing:'ease-out', fill:'forwards' }
        ).finished;
      }else{
        cluster.classList.add('cluster-show');
        await new Promise(res=>setTimeout(res, 360));
      }

      // remove big shells
      halfL.classList.add('fade-out'); halfR.classList.add('fade-out');
      setTimeout(()=>{ halfL.remove(); halfR.remove(); }, 420);
    });

    /* chicks / prank */
    const chicks = [];
    function spawnChick(x,y){
      const d = document.createElement('div');
      d.className = 'chick';
      d.style.left = x+'px'; d.style.top = y+'px';
      d.innerHTML = `
        <svg class="body" viewBox="0 0 100 100" width="100%" height="100%" aria-hidden="true">
          <defs><radialGradient id="chY" cx="50%" cy="40%" r="60%"><stop offset="0%" stop-color="#fff07a"/><stop offset="100%" stop-color="#ffd400"/></radialGradient></defs>
          <circle cx="50" cy="52" r="30" fill="url(#chY)" stroke="#111" stroke-width="2"/>
          <path d="M48 22 q4 -8 10 0" stroke="#111" stroke-width="2" fill="none" stroke-linecap="round"/>
          <circle cx="42" cy="50" r="3.2" fill="#111"/><circle cx="58" cy="50" r="3.2" fill="#111"/>
          <polygon points="50,56 60,60 50,64" fill="#ff7b00" stroke="#111" stroke-width="1"/>
          <path d="M43 78 v12 M57 78 v12" stroke="#111" stroke-width="2" stroke-linecap="round"/>
        </svg>
      `;
      document.body.appendChild(d);
      return d;
    }
    function fallToGround(el){
      const start = el.getBoundingClientRect().top;
      const endTop = innerHeight - 70;
      if (el.animate){
        return el.animate(
          [{ transform:'translate(-50%,-50%) rotate(0deg)', top:`${start}px` },
           { transform:'translate(-50%,-50%) rotate(18deg)', top:`${endTop}px` }],
          { duration:900, easing:'cubic-bezier(.15,.7,.35,1)', fill:'forwards' }
        ).finished;
      }else{
        el.style.top = endTop+'px';
        return new Promise(r=>setTimeout(r, 910));
      }
    }
    function wander(el){
      let alive = true;
      function hop(){
        if (!alive) return;
        const x = Math.max(50, Math.min(innerWidth-50, Math.random()*innerWidth));
        const y = Math.max(innerHeight-160, innerHeight-130 + (Math.random()*14-7));
        el.style.transition = 'transform .9s ease-in-out, left .9s ease-in-out, top .9s ease-in-out';
        el.style.left = x + 'px'; el.style.top = y + 'px';
        setTimeout(hop, 1200 + Math.random()*1200);
      }
      hop();
      return ()=>{ alive=false; };
    }
    function setChickDance(on){ chicks.forEach(c => c.classList.toggle('dance', !!on)); }

    // make the whole cluster area clickable for reliable taps
    cluster.addEventListener('click', async (e)=>{
      const btn = e.target.closest('.mini-egg');
      if (!btn || btn.dataset.opened === '1') return;
      btn.dataset.opened = '1';
      const kind = btn.getAttribute('data-kind');

      // click animation
      if (btn.animate){
        await btn.animate(
          [{ transform:'translateY(0) rotate(0)' }, { transform:'translateY(-6px) rotate(-8deg)' }, { transform:'translateY(0) rotate(0)' }],
          { duration:220, easing:'cubic-bezier(.3,.7,.1,1)' }
        ).finished;
      }

      const r = btn.getBoundingClientRect();
      const baseX = r.left + r.width/2;
      const baseY = r.top + r.height/2;

      // "open" mini egg
      btn.style.pointerEvents = 'none';
      if (btn.animate){
        await btn.animate(
          [{ opacity:1, transform:'scale(1)' }, { opacity:0, transform:'scale(.6) translateY(6px)' }],
          { duration:220, easing:'ease-in', fill:'forwards' }
        ).finished;
      } else { btn.style.opacity = 0; }

      if (kind === 'chick'){
        for (let i=0;i<5;i++){
          const jitterX = baseX + (Math.random()*60-30);
          const jitterY = baseY + (Math.random()*20-10);
          const chick = spawnChick(jitterX, jitterY);
          chicks.push(chick);
          await new Promise(r=>setTimeout(r, 70));
          await fallToGround(chick);
          wander(chick);
        }
      } else if (kind === 'prank'){
        prankCover.style.opacity = 1;
        catTiles.style.opacity   = 1;
        setChickDance(true);
        playRollSoftly();
      }

      setTimeout(()=>btn.remove(), 300);
    });

    addEventListener('beforeunload', ()=>roll.pause());
  </script>
</body>
</html>
